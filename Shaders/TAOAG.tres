[gd_resource type="Shader" format=3 uid="uid://dn7av4tbu1pn"]

[resource]
code = "// NOTE: Shader automatically converted from Godot Engine 4.2.1.stable.mono's StandardMaterial3D.

shader_type spatial;
render_mode blend_mix,depth_draw_opaque,cull_back,diffuse_burley,specular_disabled;
uniform sampler2D palette : source_color,filter_linear_mipmap,repeat_enable;
uniform sampler2D mask : hint_default_white,filter_linear_mipmap,repeat_enable;
uniform sampler2D normal : hint_roughness_normal,filter_linear_mipmap,repeat_enable;
uniform float normal_scale : hint_range(-16,16);
uniform vec4 colorA : source_color = vec4(1,0.4,0,1);
uniform vec4 colorB : source_color = vec4(0.4,1,0,1);
uniform vec4 colorC : source_color = vec4(0.5,0.5,1,1);
uniform vec4 colorD : source_color = vec4(0.5,0.5,0.5,1);

void fragment() {
	vec2 base_uv = UV;
	ALBEDO = vec3(0);
	ALBEDO = mix(ALBEDO,colorA.rgb,texture(palette, base_uv).r);
	ALBEDO = mix(ALBEDO,colorB.rgb,texture(palette, base_uv).g);
	ALBEDO = mix(ALBEDO,colorC.rgb,texture(palette, base_uv).b);
	ALBEDO = mix(ALBEDO,colorD.rgb,texture(palette, base_uv).a);
	
	METALLIC = texture(mask,base_uv).r;
	ROUGHNESS = texture(mask,base_uv).g;
	NORMAL_MAP = texture(normal,base_uv).rgb;
	NORMAL_MAP_DEPTH = normal_scale;
}
"
