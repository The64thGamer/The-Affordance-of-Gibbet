[gd_scene load_steps=8 format=3 uid="uid://cxhbeothnwanc"]

[ext_resource type="Script" path="res://Scripts/GameMaster.cs" id="1_vlvyk"]
[ext_resource type="Script" path="res://Scripts/Player.cs" id="2_nd0mm"]
[ext_resource type="PackedScene" uid="uid://c6mpsvtvaktv4" path="res://Models/Test Map.glb" id="4_0kke2"]
[ext_resource type="PackedScene" uid="uid://bufrxc8btjvfr" path="res://Prefabs/Waypoint.tscn" id="4_a4b10"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_bh3s1"]
sky_top_color = Color(0, 0, 0, 1)
sky_horizon_color = Color(0.4, 0.329412, 0.592157, 1)
sky_curve = 0.01875
ground_bottom_color = Color(0.337255, 0.341176, 0.376471, 1)
ground_horizon_color = Color(0.435294, 0.443137, 0.458824, 1)

[sub_resource type="Sky" id="Sky_tkonq"]
sky_material = SubResource("ProceduralSkyMaterial_bh3s1")

[sub_resource type="Environment" id="Environment_7fl4d"]
background_mode = 2
sky = SubResource("Sky_tkonq")

[node name="GameMaster" type="Node3D"]
script = ExtResource("1_vlvyk")

[node name="Player" type="Node3D" parent="." node_paths=PackedStringArray("playerHead", "fakePlayerHead", "currentWaypoint")]
script = ExtResource("2_nd0mm")
playerHead = NodePath("Head")
fakePlayerHead = NodePath("FakeHead")
currentWaypoint = NodePath("../Waypoints/Entrance Center")

[node name="FakeHead" type="Node3D" parent="Player"]

[node name="Head" type="Node3D" parent="Player"]

[node name="Camera3D" type="Camera3D" parent="Player/Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_7fl4d")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.856951, -0.473902, 0.202612, 0.225406, 0.698137, 0.679557, -0.463494, -0.536677, 0.705089, 0, 0, 0)

[node name="Test Map" parent="." instance=ExtResource("4_0kke2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.55571, 0, 3.99159)

[node name="Waypoints" type="Node" parent="."]

[node name="Entrance Center" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.35607, 0, 2.59565)
waypoints = [NodePath("../Entrance Left"), NodePath("../Entrance Right"), NodePath("../Main Room Center"), NodePath("../Main Room Left"), NodePath("../Main Room Right")]

[node name="Entrance Left" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.82444, 0, 2.59565)
waypoints = [NodePath("../Entrance Center"), NodePath("../Main Room Left"), NodePath("../Counter Left"), NodePath("../Main Room Center")]

[node name="Entrance Right" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.63123, 0, 2.59565)
waypoints = [NodePath("../Entrance Center"), NodePath("../Main Room Right"), NodePath("../Main Room Center")]

[node name="Main Room Center" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.35607, 0, -5.23415)
waypoints = [NodePath("../Entrance Center"), NodePath("../Main Room Left"), NodePath("../Main Room Right"), NodePath("../Main Room Far Center"), NodePath("../Main Room Far Left"), NodePath("../Main Room Far Right"), NodePath("../Entrance Left"), NodePath("../Entrance Right")]

[node name="Main Room Left" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.82444, 0, -3.88597)
waypoints = [NodePath("../Entrance Left"), NodePath("../Main Room Center"), NodePath("../Main Room Far Left"), NodePath("../Counter Center"), NodePath("../Counter Left"), NodePath("../Counter Right"), NodePath("../Main Room Far Center"), NodePath("../Entrance Center")]

[node name="Main Room Right" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.63123, 0, -5.23415)
waypoints = [NodePath("../Entrance Right"), NodePath("../Main Room Far Right"), NodePath("../Main Room Center"), NodePath("../Entrance Center"), NodePath("../Main Room Far Center")]

[node name="Counter Center" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.44034, 0, -3.88597)
waypoints = [NodePath("../Counter Left"), NodePath("../Counter Right"), NodePath("../Main Room Left")]

[node name="Counter Left" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.44034, 0, 0.00763249)
waypoints = [NodePath("../Counter Center"), NodePath("../Entrance Left"), NodePath("../Main Room Left")]

[node name="Counter Right" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.44034, 0, -8.16613)
waypoints = [NodePath("../Main Room Far Left"), NodePath("../Counter Center"), NodePath("../Main Room Left")]

[node name="Main Room Far Center" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.35607, 0, -13.0448)
waypoints = [NodePath("../Main Room Far Left"), NodePath("../Main Room Far Right"), NodePath("../Main Room Center"), NodePath("../Main Room Left"), NodePath("../Main Room Right"), NodePath("../Hallway Entrance"), NodePath("../Corridor Entrance")]

[node name="Main Room Far Left" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.82444, 0, -13.0448)
waypoints = [NodePath("../Counter Right"), NodePath("../Main Room Far Center"), NodePath("../Main Room Left"), NodePath("../Main Room Center"), NodePath("../Hallway Entrance"), NodePath("../Corridor Entrance")]

[node name="Main Room Far Right" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.63123, 0, -13.0448)
waypoints = [NodePath("../Main Room Far Center"), NodePath("../Main Room Right"), NodePath("../Main Room Center"), NodePath("../Hallway Entrance")]

[node name="Hallway Entrance" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.42508, -4.76837e-07, -20.8974)
waypoints = [NodePath("../Main Room Far Left"), NodePath("../Main Room Far Center"), NodePath("../Corridor Entrance"), NodePath("../Hallway Exit"), NodePath("../Main Room Far Right")]

[node name="Hallway Exit" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.81353, -4.76837e-07, -26.4149)
waypoints = [NodePath("../Hallway Entrance"), NodePath("../Corridor E")]

[node name="Corridor Entrance" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.56472, -4.76837e-07, -20.8974)
waypoints = [NodePath("../Hallway Entrance"), NodePath("../Main Room Far Left"), NodePath("../Main Room Far Center"), NodePath("../Corridor A")]

[node name="Corridor A" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.4217, -4.76837e-07, -27.7335)
waypoints = [NodePath("../Corridor Entrance"), NodePath("../Corridor B"), NodePath("../Closet")]

[node name="Corridor B" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.902, -9.53674e-07, -35.3884)
waypoints = [NodePath("../Corridor A"), NodePath("../Corridor C"), NodePath("../Closet")]

[node name="Corridor C" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.48159, -9.53674e-07, -39.4048)
waypoints = [NodePath("../Corridor B"), NodePath("../Corridor D")]

[node name="Corridor D" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.82577, -4.76837e-07, -36.5444)
waypoints = [NodePath("../Corridor C"), NodePath("../Corridor E")]

[node name="Corridor E" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.54468, 0, -31.8608)
waypoints = [NodePath("../Corridor D"), NodePath("../Hallway Exit")]

[node name="Closet" parent="Waypoints" node_paths=PackedStringArray("waypoints") instance=ExtResource("4_a4b10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.6608, -4.76837e-07, -31.1358)
waypoints = [NodePath("../Corridor B"), NodePath("../Corridor A")]
